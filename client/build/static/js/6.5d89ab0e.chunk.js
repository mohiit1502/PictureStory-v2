(this["webpackJsonppicturestory-v2-client"]=this["webpackJsonppicturestory-v2-client"]||[]).push([[6],{103:function(e,t,r){e.exports={Login:"Login_Login__PPKkV",loginContainer:"Login_loginContainer__24QXD","c-login-intimation":"Login_c-login-intimation__1OU36",loginSplitter:"Login_loginSplitter__1IrNe"}},104:function(e){e.exports=JSON.parse('{"login":{"email":{"label":"Email ID","placeholder":"Email ID","type":"text","id":"email","elementType":"input","validation":{"required":{"isRequired":"true"},"rules":{"minlength":6,"maxlength":50}}},"password":{"label":"Password","placeholder":"Password","type":"password","id":"password","elementType":"input","validation":{"required":{"isRequired":"true"},"rules":{}}}}}')},105:function(e,t,r){e.exports={"c-SelectOption":"SelectOption_c-SelectOption__CcjOI"}},150:function(e,t,r){"use strict";r.r(t);var a=r(0),o=r.n(a),n=r(3),i=r.n(n),l=r(103),u=r.n(l),s=r(24),c=r(48),p=r(18),m=r(53),f=Object(m.createSelector)((function(e){return e.data}),(function(e){return e.pages.login})),d=Object(c.createGetSelector)(f,"formValues"),b=Object(c.createGetSelector)(f,"formErrors"),h=r(104),y=function(e){var t=e.meta;return o.a.createElement("div",{className:"c-InputField"},o.a.createElement("div",{className:"form-group row ".concat(t.container_class?t.container_class:""),"aria-required":t.aria_required},o.a.createElement("label",{htmlFor:t.id,className:"col-12 col-sm-3 col-lg-12 col-form-label"},t.validation.required.isRequired&&!t.isStandAloneField&&o.a.createElement("span",{className:"required-indicator"},"* "),t.label),t.secondaryLabel?o.a.createElement("span",{className:"field--label-description"},t.secondaryLabel):null,o.a.createElement("div",{className:"col-12 col-sm-9 col-12"},t.error&&o.a.createElement("span",{className:"form-wrapper__field-error"},t.errorMessage),o.a.createElement("input",{className:"form-control ".concat(t.error?"error":""),type:t.type,id:t.id,name:t.name,"data-firstname":"null",value:t.fieldValues&&void 0!==t.fieldValues.stateValue?t.fieldValues.stateValue:t.fieldValues.propsValue,required:t.validation.required.isRequired?"required":"",minLength:t.validation.rules.minlength,maxLength:t.validation.rules.maxlength,placeholder:t.placeholder,"aria-required":t.aria_required,"aria-invalid":t.aria_invalid,onBlur:function(e){return t.handlers.onBlurHandler(t.validation,t.handlers.customBlurHandler,e)},onFocus:t.handlers.onFocusHandler,onChange:t.handlers.onChangeHandler,style:{width:"100%"}}))))};y.defaultProps={},y.propTypes={meta:i.a.object};var g=y,v=r(105),E=r.n(v),O=function(e){return o.a.createElement("div",{className:E.a.root})};function _(e){return(_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function t(e){var r,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this;var n=(r=!(o=F(t).call(this,e))||"object"!==_(o)&&"function"!==typeof o?V(a):o).props.propsData&&r.props.propsData.id,i=r.props.value||r.props.propsData&&r.props.propsData.value;return r.state={error:!1,errorMessage:null},r.props.updateFormValues({formValues:S({},n,i||"")}),r.props.updateFormErrors({formErrors:S({},n,"")}),r.customExecutes=r.customExecutes.bind(V(r)),r.prepareCVN=r.prepareCVN.bind(V(r)),r.executeDateValidations=r.executeDateValidations.bind(V(r)),r.onChangeHandler=r.onChangeHandler.bind(V(r)),r.onBlurHandler=r.onBlurHandler.bind(V(r)),r.onFocusHandler=r.onFocusHandler.bind(V(r)),r}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,e),r=t,(a=[{key:"validateFormField",value:function(e,t){var r=this.props,a=r.propsData,o=r.formErrors,n=r.formValues,i=r.updateFormErrors,l=r.updateFormValues,u=e.target.value&&e.target.value,s=!1,c="",p=a.id,m=t.dataRuleRegex&&new RegExp(t.dataRuleRegex.regex).test(u),f="address1"===e.target.id&&t.dataRuleRegex.po_regex&&new RegExp(t.dataRuleRegex.po_regex,"i").test(u);return e.target.tagName&&"SELECT"===e.target.tagName?t.required.isRequired&&0===e.target.selectedIndex&&!t.required.preSelected&&(s=!0,c=t.required.error_message):e.target.tagName&&"INPUT"===e.target.tagName?t.required.isRequired&&(""===u.trim("")?(s=!0,c=t.required.error_message):t.dataRuleRegex&&!m?(s=!0,c=t.dataRuleRegex.error_message):t.dataRuleRegex&&f&&(s=!0,c=t.dataRuleRegex.po_error_message)):(s=!1,c=null),c||"expiration_month"!==a.id||(c=this.executeDateValidations())&&(s=!0),this.setState({error:s}),i({formErrors:j({},o,S({},p,c))}),l({formValues:j({},n,S({},p,u))}),s}},{key:"onChangeHandler",value:function(e){var t=e.target.value;this.setState({value:t}),this.executeDateValidations(e)}},{key:"onFocusHandler",value:function(e){this.setState({oldValue:e.target.value})}},{key:"onBlurHandler",value:function(e,t,r){r.oldValue=this.state.oldValue;var a=this.props.customBlurFormatter;this.validateFormField(r,e)||(t&&"function"===typeof t&&t(r),a&&"function"===typeof a&&this.setState({value:a(r)}))}},{key:"prepareCVN",value:function(){var e=this.props,t=e.propsData,r=e.selectedCreditCard;t&&void 0!==t.ccNumberUpdated&&t.ccNumberUpdated&&(this.setState({value:""}),this.props.updateFormValues({formValues:j({},this.props.formValues,{security_code:""})}),t.ccNumberUpdated=!1),r&&("Amex"===r.payment_card.card_type?(t.validation.dataRuleRegex.regex=/^[0-9'\s]{4}$/,t.validation.rules.maxlength=4):(t.validation.dataRuleRegex.regex=/^[0-9'\s]{3}$/,t.validation.rules.maxlength=3))}},{key:"executeDateValidations",value:function(e){var t=this.props,r=t.propsData,a=t.formValues,o=t.formErrors,n=t.updateFormErrors,i="";if("expiration_month"===r.id||"expiration_year"===r.id){var l="",u="";"expiration_month"===r.id?(l=+e.target.value,u=+a.expiration_year):"expiration_year"===r.id&&(l=+a.expiration_month,u=+e.target.value);var s=(new Date).getFullYear(),c=(new Date).getMonth();n({formErrors:j({},o,{expiration_month:i=u===s&&l<c+1?"This Credit Card is expired":""})})}return i}},{key:"customExecutes",value:function(){this.prepareCVN()}},{key:"render",value:function(){var e=this.props,t=e.customBlurHandler,r=e.formErrors,a=e.propsData,n=a.elementType,i=r&&r[a.id];this.customExecutes();var l=j({},this.props.propsData,{className:this.state.error?"error":"",error:this.state.error||i,errorMessage:i,handlers:{onBlurHandler:this.onBlurHandler,customBlurHandler:t,onChangeHandler:this.onChangeHandler,onFocusHandler:this.onFocusHandler},fieldValues:{propsValue:this.props.value,stateValue:this.state.value}});switch(n){case"input":return o.a.createElement(g,{meta:l});case"select":return o.a.createElement(O,{meta:l});default:return o.a.createElement("input",null)}}}])&&x(r.prototype,a),n&&x(r,n),t}(o.a.Component);k.propTypes={propsData:i.a.object.isRequired,className:i.a.string,customBlurHandler:i.a.func,customBlurFormatter:i.a.func,onFocus:i.a.func,value:i.a.string,formValues:i.a.object,formErrors:i.a.object,selectedCreditCard:i.a.object,updateFormValues:i.a.func,updateFormErrors:i.a.func};var P=k;function R(e){return(R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var L=function(e){function t(e){var r,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(r=!(o=D(t).call(this,e))||"object"!==R(o)&&"function"!==typeof o?T(a):o).state={name:"",greeting:""},r.handleChange=r.handleChange.bind(T(r)),r.handleSubmit=r.handleSubmit.bind(T(r)),r.onFocusHandler=r.onFocusHandler.bind(T(r)),r}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,e),r=t,(a=[{key:"handleChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),fetch("/api/greeting?name=".concat(encodeURIComponent(this.state.name))).then((function(e){return e.json()})).then((function(e){return t.setState(e)}))}},{key:"onFocusHandler",value:function(){console.log("Parent, on focus handler")}},{key:"render",value:function(){var e=this,t=this.props,r=t.context,a=t.customBlurHandler,n=t.customBlurFormatter,i=t.fieldValues,l=t.formErrors,u=t.formValues,s=t.metaData,c=t.updateFormErrors,p=t.updateFormValues,m=s&&r?Object.keys(s[r]):[],f=m&&m.map((function(t,m){var f=s[r][t];return f?o.a.createElement(P,{propsData:f,key:m,onFocus:e.onFocusHandler,customBlurHandler:f.impactsShippingOptions||"number"===f.id?a:null,customBlurFormatter:f.formatNeeded?n:null,value:i&&i[t],formErrors:l,formValues:u,updateFormErrors:c,updateFormValues:p}):null}));return f=f.filter((function(e){return null!==e})),o.a.createElement("form",{className:"c-Form",onSubmit:this.handleSubmit},o.a.createElement("fieldset",null,f),o.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",style:{marginTop:"15px",background:"black"}},"Submit"))}}])&&C(r.prototype,a),n&&C(r,n),t}(o.a.Component);L.propTypes={context:i.a.string,customBlurHandler:i.a.func,customBlurFormatter:i.a.func,metaData:i.a.object.isRequired,className:i.a.string,fieldValues:i.a.object,formErrors:i.a.object,formValues:i.a.object,updateFormErrors:i.a.func,updateFormValues:i.a.func};var q=L,B=function(e){return o.a.createElement("div",{className:"c-LoginForm"},o.a.createElement(q,{metaData:h,context:"login",updateFormValues:e.updateFormValues,updateFormErrors:e.updateFormErrors,formErrors:e.formErrors,formValues:e.formValues}))};B.propTypes={updateFormValues:i.a.func,updateFormErrors:i.a.func,formValues:i.a.object,formErrors:i.a.object};var I=B,M=r(12),U=r(112);function z(e){return(z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K=function(e){function t(e){var r,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(r=!(o=A(t).call(this,e))||"object"!==z(o)&&"function"!==typeof o?G(a):o).width=254,r.height=50,r.onSuccess=r.onSuccess.bind(G(r)),r.onFailure=r.onFailure.bind(G(r)),r}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,e),r=t,(a=[{key:"componentDidMount",value:function(){U.a&&U.a.signin2&&U.a.signin2.render("g-signin2",{scope:"profile email",width:this.width,height:this.height,longtitle:!0,theme:"dark",onsuccess:this.onSuccess,onfailure:this.onFailure})}},{key:"onSuccess",value:function(e){console.log("Logged in as: "+e.getBasicProfile().getName()),this.props.history.push("/home")}},{key:"onFailure",value:function(e){console.log(e)}},{key:"render",value:function(){return o.a.createElement("div",{className:"c-SocialLogin"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"g-signin2",id:"g-signin2"})),o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"fb-login-button","data-width":this.width,"data-height":this.height,"data-size":"large","data-button-type":"continue_with","data-auto-logout-link":"false","data-use-continue-as":"true"}))))}}])&&J(r.prototype,a),n&&J(r,n),t}(o.a.Component);K.defaultProps={},K.propTypes={};var Q=Object(M.e)(K),W=r(25),X=function(e){return o.a.createElement("div",{className:"c-Jumbotron"},o.a.createElement("h1",{className:"display-4"},e.jumboText),o.a.createElement("p",{className:"lead"},e.subText),o.a.createElement("hr",{className:"my-4"}),o.a.createElement("p",null,e.jumboDescription),o.a.createElement("p",{className:"lead"},o.a.createElement(W.b,{className:"btn btn-primary btn-lg",to:"#",role:"button"},"Let's get started"),o.a.createElement(W.b,{className:"btn btn-primary btn-lg float-right",to:"#",role:"button",style:{marginLeft:"15px"}},e.furtherLink)))};X.propTypes={furtherLink:i.a.string,jumboDescription:i.a.string,jumboText:i.a.string,subText:i.a.string};var Y=X;function Z(e){return(Z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function te(e,t){return!t||"object"!==Z(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oe=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=te(this,re(t).call(this,e))).pageType="login",r}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(t,e),r=t,(a=[{key:"componentDidMount",value:function(){(0,this.props.initializeLogin)()}},{key:"clicked",value:function(){console.log("login handler")}},{key:"render",value:function(){var e=this.props,t=e.updateFormErrors,r=e.updateFormValues,a=e.formErrors,n=e.formValues;return o.a.createElement("div",{className:"".concat(u.a.Login," container"),onClick:this.clicked},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-lg-8"},o.a.createElement(Y,{jumboText:"Welcome To Ecstatica",subText:"Show us what you've got!",jumboDescription:"An app for professional photographers, to provide a window to the world and to demonstrate the art within.",furtherLink:"Learn more"})),o.a.createElement("div",{className:"col-12 col-lg-4"},o.a.createElement("div",{className:u.a.loginContainer},o.a.createElement("p",{className:u.a["c-login-intimation"]},"Let's get to know each other, shall we!"),o.a.createElement(I,{updateFormValues:r,updateFormErrors:t,formErrors:a,formValues:n}),o.a.createElement("p",{className:u.a.loginSplitter},"OR"),o.a.createElement(Q,null)))))}}])&&ee(r.prototype,a),n&&ee(r,n),t}(o.a.Component);oe.propTypes={initializeLogin:i.a.func,dataState:i.a.object,updateFormValues:i.a.func,updateFormErrors:i.a.func,formValues:i.a.object,formErrors:i.a.object};var ne=Object(c.createPropsSelector)({dataState:f,formErrors:b,formValues:d}),ie={initializeLogin:p.d,updateFormErrors:p.e,updateFormValues:p.f},le=Object(s.b)(ne,ie)(oe);t.default=le}}]);
//# sourceMappingURL=6.5d89ab0e.chunk.js.map